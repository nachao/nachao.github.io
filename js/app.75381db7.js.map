{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/pages/Commit.vue?468e","webpack:///./src/components/question-talk/List.vue?483a","webpack:///./src/components/stat/Rank.vue?8646","webpack:///./src/components/examine/ExamProcess.vue?57db","webpack:///external \"roughViz\"","webpack:///./src/store/exam/getter.js","webpack:///./src/services/base.js","webpack:///./src/services/question.js","webpack:///./src/services/exam.js","webpack:///./src/store/exam/actions.js","webpack:///./src/store/exam/mutations.js","webpack:///./src/store/exam/index.js","webpack:///./src/store/user/index.js","webpack:///./src/store/index.js","webpack:///./src/pages/Index.vue?1b85","webpack:///./src/services/user.js","webpack:///./src/components/user/Login2Register.vue?b3f9","webpack:///./src/services/stat.js","webpack:///src/components/user/Login2Register.vue","webpack:///./src/components/user/Login2Register.vue?2172","webpack:///./src/components/user/Login2Register.vue","webpack:///./src/components/user/Remark.vue?4b8d","webpack:///src/components/user/Remark.vue","webpack:///./src/components/user/Remark.vue?d296","webpack:///./src/components/user/Remark.vue","webpack:///./src/components/user/UserInfo.vue?e367","webpack:///./src/components/user/SetInfo.vue?a144","webpack:///src/components/user/SetInfo.vue","webpack:///./src/components/user/SetInfo.vue?eac2","webpack:///./src/components/user/SetInfo.vue","webpack:///src/components/user/UserInfo.vue","webpack:///./src/components/user/UserInfo.vue?f98c","webpack:///./src/components/user/UserInfo.vue","webpack:///./src/components/examine/ExamPre.vue?fc6b","webpack:///./src/common/consts.js","webpack:///src/components/examine/ExamPre.vue","webpack:///./src/components/examine/ExamPre.vue?6ea6","webpack:///./src/components/examine/ExamPre.vue","webpack:///./src/components/examine/ExamProcess.vue?5717","webpack:///./src/components/question-talk/List.vue?0c57","webpack:///./src/services/talk.js","webpack:///./src/components/question-talk/Form.vue?a33a","webpack:///src/components/question-talk/Form.vue","webpack:///./src/components/question-talk/Form.vue?d554","webpack:///./src/components/question-talk/Form.vue","webpack:///src/components/question-talk/List.vue","webpack:///./src/components/question-talk/List.vue?0a13","webpack:///./src/components/question-talk/List.vue","webpack:///src/components/examine/ExamProcess.vue","webpack:///./src/components/examine/ExamProcess.vue?6e0e","webpack:///./src/components/examine/ExamProcess.vue","webpack:///./src/components/examine/ExamInfo.vue?73b1","webpack:///src/components/examine/ExamInfo.vue","webpack:///./src/components/examine/ExamInfo.vue?784a","webpack:///./src/components/examine/ExamInfo.vue","webpack:///./src/components/stat/CompletionPie.vue?c142","webpack:///src/components/stat/CompletionPie.vue","webpack:///./src/components/stat/CompletionPie.vue?4868","webpack:///./src/components/stat/CompletionPie.vue","webpack:///./src/components/stat/Rank.vue?4c8c","webpack:///src/components/stat/Rank.vue","webpack:///./src/components/stat/Rank.vue?ae3f","webpack:///./src/components/stat/Rank.vue","webpack:///src/pages/Index.vue","webpack:///./src/pages/Index.vue?fff1","webpack:///./src/pages/Index.vue","webpack:///./src/pages/Commit.vue?a53f","webpack:///src/pages/Commit.vue","webpack:///./src/pages/Commit.vue?572e","webpack:///./src/pages/Commit.vue","webpack:///./src/routers/index.js","webpack:///./src/App.vue?fb10","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///external \"Vuex\"","webpack:///external \"Vue\"","webpack:///./src/components/user/UserInfo.vue?b6fa","webpack:///external \"moment\"","webpack:///./src/components/question-talk/Form.vue?23f8","webpack:///./src/components/user/Remark.vue?440e","webpack:///./src/components/user/Login2Register.vue?a4f5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","roughViz","getters","amount","state","currentExamUesdQuestionIds","AV","init","appId","appKey","errorHandler","e","message","rawMessage","type","requestCount","Query","count","catch","questionList","skip","descending","limit","find","questionItem","objectId","equalTo","first","questionUpdate","title","createWithoutData","set","save","questionDelete","destroy","questionAnswers","questionId","questionRandomArr","select","questionAdd","extend","User","current","id","questionAnswersAdd","text","right","questionAnswersDelete","questionAnswersUpdate","EXAM","QUESTION","addExam","Log","myExam","requestBestExam","addDescending","myWeekTimes","greaterThan","moment","startOf","_d","addExamQuestion","examId","addExamQuestionAnswer","responseId","answerIds","abandonExam","totalTime","acl","ACL","setPublicReadAccess","setWriteAccess","setACL","settlementExam","score","currentExamQuestionIds","myRightAnswerCount","actions","setNext","dispatch","commit","then","options","map","setNextQuestion","query","currentExamQuestionId","currentExamId","currentExamResponseId","setAbandonExam","mutations","getRandom","newOptions","sort","Math","random","forEach","includes","resetExam","setCurrentExamId","setCurrentExamUesdQuestionIds","setQuestionCount","questionCount","setBeginDate","beginDate","setRightCount","rightCount","updateRightCount","setWeekExamCount","weekExamCount","exam","namespaced","user","setUser","console","log","infoId","nickname","attributes","signature","higbestScore","leastTime","isManage","setLogout","_vm","this","_h","$createElement","_c","_self","_v","attrs","_e","staticRenderFns","requestLogin","account","password","logIn","requestRegister","setUsername","setPassword","signUp","syncInfo","Info","username","setNickname","setSignature","requestLogout","logOut","userInfo","Promise","resolve","updateHigbestScore","todo","staticClass","ref","form","rules","model","callback","$$v","$set","expression","on","setSubmit","requestUsersRank","addAscending","include","requestProportion","addProportion","updateProportion","requestUserCountLast","requestUserCount","addUserCount","updateUserCount","requestProportionAll","requestUserCountAll","userId","computed","methods","$refs","validate","valid","setLogin","setRegister","setUserInfo","setUserCount","component","_m","openSet","_s","logout","staticStyle","dialogVisible","$event","slot","closeDialog","open","examData","setInfo","components","UserSetInfo","mounted","MIN_QUESTION_QUANTITY","setAbandon","WEEK_APPLY_QUANTITY","setApply","loading","getQuestionCount","getWeekTimes","getMyExam","getCurrentExamQuestion","setFinish","created","status","timerValue","timerPercetage","formatProgress","question","_l","item","allowNext","updateTalkMessage","list","index","total","getCurrent","addMessage","Talk","requestMessages","talk","requestMessageUsers","matchesKeyInQuery","requestTotal","props","String","required","requestQuery","num","requestMessage","names","uid","unshift","QuestionTalkForm","answers","timer","timerTotal","watch","setTimer","setInterval","clearInterval","parseRight","every","setFinishAnswer","setUpdateExam","setProportion","finishExam","QuestionTalkList","proportion","userCount","labels","values","drawPie","element","titleFontSize","legend","roughness","strokeWidth","width","height","color","fillWeight","drawBar","margin","Remark","Login","UserInfo","ExamPre","ExamProcess","ExamInfo","StatCompletionPie","StatRank","pushAnswer","formCopy","addQuestion","resetSubmit","answer","removeAnswer","verifyDiff","answersCopy","addAnswer","questionEdit","questions","typeId","$confirm","confirmButtonText","cancelButtonText","indexOf","updateAnswer","copy","itemCopy","dangerouslyUseHTMLString","JSON","parse","stringify","routes","path","Index","Commit","script","Vue","config","productionTip","use","Vuex","router","VueRouter","Routes","store","Store","StoreModules","render","h","App","$mount"],"mappings":"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","file":"js/app.75381db7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commit.vue?vue&type=style&index=0&id=2c8daaa2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commit.vue?vue&type=style&index=0&id=2c8daaa2&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=7b619a90&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=7b619a90&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=d829117c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=d829117c&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamProcess.vue?vue&type=style&index=0&id=280383e7&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamProcess.vue?vue&type=style&index=0&id=280383e7&scoped=true&lang=scss&\"","module.exports = roughViz;","const getters = {\r\n  // 当前报名的已答题数量\r\n  amount(state) {\r\n    return state.currentExamUesdQuestionIds.length;\r\n  }\r\n};\r\n\r\nexport default getters\r\n","import AV from \"leancloud-storage\";\r\nimport { Message } from 'element-ui'\r\n\r\nAV.init({\r\n  appId: \"q3OmcGL6fBlFSkK6rDgLCmOh-gzGzoHsz\",\r\n  appKey: \"vT7tMvcpLI5yg7DR47gTBUwN\"\r\n});\r\n\r\nexport default AV\r\n\r\nexport function errorHandler (e) {\r\n  Message({\r\n    message: e.rawMessage,\r\n    type: 'error'\r\n  })\r\n}","import AV, { errorHandler } from \"./base\";\r\n\r\nexport function requestCount() {\r\n  return new AV.Query(\"Questions\")\r\n    .count()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function questionList({ skip }) {\r\n  return new AV.Query(\"Questions\")\r\n    .descending('createdAt')\r\n    .skip(skip)\r\n    .limit(10)\r\n    .find()\r\n}\r\n\r\nexport function questionItem({ objectId }) {\r\n  return new AV.Query(\"Questions\")\r\n    .equalTo(\"objectId\", objectId)\r\n    .first()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function questionUpdate({ objectId, title }) {\r\n  return AV.Object.createWithoutData(\"Questions\", objectId)\r\n    .set(\"title\", title)\r\n    .save()\r\n}\r\n\r\nexport function questionDelete({ objectId }) {\r\n  return AV.Object.createWithoutData(\"Questions\", objectId)\r\n    .destroy()\r\n}\r\n\r\nexport function questionAnswers({ questionId }) {\r\n  return new AV.Query(\"Question_Answers\")\r\n    .equalTo(\"questionId\", questionId)\r\n    .find()\r\n}\r\n\r\nexport function questionRandomArr({ limit = 1 }) {\r\n  return new AV.Query(\"Questions\")\r\n    .select(['questionId'])\r\n    .limit(limit)\r\n    .find()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function questionAdd({ title }) {\r\n  const Query = AV.Object.extend(\"Questions\")\r\n  return new Query()\r\n    .set(\"title\", title)\r\n    .set(\"userId\", AV.User.current().id)\r\n    .save()\r\n}\r\n\r\nexport function questionAnswersAdd({ text, right, questionId }) {\r\n  const Query = AV.Object.extend(\"Question_Answers\")\r\n  return new Query()\r\n    .set(\"text\", text)\r\n    .set(\"right\", right)\r\n    .set(\"questionId\", questionId)\r\n    .save()\r\n}\r\n\r\nexport function questionAnswersDelete({ objectId }) {\r\n  return AV.Object.createWithoutData(\"Question_Answers\", objectId)\r\n    .destroy()\r\n}\r\n\r\nexport function questionAnswersUpdate({ text, right, objectId }) {\r\n  return AV.Object.createWithoutData(\"Question_Answers\", objectId)\r\n    .set(\"text\", text)\r\n    .set(\"right\", right)\r\n    .save()\r\n}\r\n","import AV, { errorHandler } from \"./base\";\r\nimport moment from 'moment'\r\n\r\nconst EXAM = \"User_Exam_Log\";\r\nconst QUESTION = \"User_Exam_Questions_Answers\";\r\n\r\nexport function addExam() {\r\n  const Log = new AV.Object.extend(EXAM)\r\n  return new Log()\r\n    .set(\"userId\", AV.User.current().id)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function myExam() {\r\n  return new AV.Query(EXAM)\r\n    .equalTo(\"userId\", AV.User.current().id)\r\n    .equalTo(\"finish\", false)\r\n    .descending(\"createdAt\")\r\n    .first()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function requestBestExam() {\r\n  return new AV.Query(EXAM)\r\n    .equalTo(\"userId\", AV.User.current().id)\r\n    .descending(\"score\")\r\n    .addDescending(\"totalTime\")\r\n    .first()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function myWeekTimes() {\r\n  return new AV.Query(EXAM)\r\n    .equalTo(\"userId\", AV.User.current().id)\r\n    .greaterThan('createdAt', moment().startOf('week')._d)\r\n    .count()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function addExamQuestion({ examId, questionId }) {\r\n  const Log = new AV.Object.extend(QUESTION)\r\n  return new Log()\r\n    .set(\"examId\", examId)\r\n    .set(\"questionId\", questionId)\r\n    .set(\"userId\", AV.User.current().id)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function addExamQuestionAnswer({ responseId, answerIds, right }) {\r\n  return AV.Object.createWithoutData(QUESTION, responseId)\r\n    .set('answerIds', answerIds)\r\n    .set(\"right\", right)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function abandonExam({ examId, totalTime }) {\r\n  const acl = new AV.ACL();\r\n  acl.setPublicReadAccess(true);\r\n  acl.setWriteAccess(AV.User.current(), true);\r\n  return AV.Object.createWithoutData(EXAM, examId)\r\n    .set(\"finish\", true)\r\n    .set(\"totalTime\", totalTime)\r\n    .setACL(acl)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function finishExam({ examId }) {\r\n  const acl = new AV.ACL();\r\n  acl.setPublicReadAccess(true);\r\n  acl.setWriteAccess(AV.User.current(), true);\r\n  return AV.Object.createWithoutData(EXAM, examId)\r\n    .set(\"finish\", true)\r\n    .setACL(acl)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function settlementExam({ examId, score, totalTime }) {\r\n  const acl = new AV.ACL();\r\n  acl.setPublicReadAccess(true);\r\n  acl.setWriteAccess(AV.User.current(), true);\r\n  return AV.Object.createWithoutData(EXAM, examId)\r\n    .set(\"score\", score)\r\n    .set(\"totalTime\", totalTime)\r\n    .setACL(acl)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function currentExamQuestionIds({ examId }) {\r\n  return new AV.Query(QUESTION)\r\n    .equalTo(\"examId\", examId)\r\n    .select(['questionId'])\r\n    .find()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function myRightAnswerCount({ examId }) {\r\n  return new AV.Query(QUESTION)\r\n    .equalTo(\"examId\", examId)\r\n    .count()\r\n    .catch(errorHandler);\r\n}","import { questionRandomArr } from \"@/services/question\";\r\nimport { addExamQuestion, abandonExam } from \"@/services/exam\";\r\n\r\nconst actions = {\r\n  setNext({ getters, dispatch, commit }) {\r\n    const limit = getters.amount + 10;\r\n    return questionRandomArr({ limit }).then(data => {\r\n      const options = data.map(d => d.id);\r\n      const questionId = commit(\"getRandom\", options);\r\n      dispatch(\"setNextQuestion\", questionId);\r\n    });\r\n  },\r\n  setNextQuestion({ state }) {\r\n    const query = {\r\n      questionId: state.currentExamQuestionId,\r\n      examId: state.currentExamId\r\n    };\r\n    if (query.questionId) {\r\n      addExamQuestion(query).then(data => {\r\n        state.currentExamResponseId = data.id;\r\n        state.currentExamUesdQuestionIds.push(query.questionId);\r\n      });\r\n    }\r\n  },\r\n  setAbandonExam({ state, commit }, totalTime = 0) {\r\n    abandonExam({ examId: state.currentExamId, totalTime }).then(() => {\r\n      commit('resetExam')\r\n    });\r\n  }\r\n};\r\n\r\nexport default actions;\r\n","import { stat } from \"fs\";\r\n\r\nconst mutations = {\r\n  getRandom(state, newOptions) {\r\n    state.currentExamQuestionId = newOptions[0];\r\n    newOptions\r\n      .sort(() => (Math.random() > 0.5 ? -1 : 1))\r\n      .forEach(id => {\r\n        if (!state.currentExamUesdQuestionIds.includes(id)) {\r\n          state.currentExamQuestionId = id;\r\n        }\r\n      });\r\n  },\r\n  resetExam(state) {\r\n    state.currentExamId = ''\r\n    state.currentExamQuestionId = ''\r\n    state.currentExamResponseId = ''\r\n    state.currentExamUesdQuestionIds = []\r\n  },\r\n  setCurrentExamId(state, data) {\r\n    state.currentExamId = data;\r\n  },\r\n  setCurrentExamUesdQuestionIds(state, data) {\r\n    state.currentExamUesdQuestionIds = data;\r\n  },\r\n  setQuestionCount(state, data) {\r\n    state.questionCount = data\r\n  },\r\n  setBeginDate(state, data) {\r\n    state.beginDate = data\r\n  },\r\n  setRightCount(state, data) {\r\n    state.rightCount = data\r\n  },\r\n  updateRightCount(state) {\r\n    state.rightCount += 1\r\n  },\r\n  setWeekExamCount(state, data) {\r\n    state.weekExamCount = data\r\n  }\r\n};\r\n\r\nexport default mutations;\r\n","import getters from './getter'\r\nimport actions from './actions'\r\nimport mutations from './mutations'\r\n\r\nconst exam = {\r\n  namespaced: true,\r\n  state: {\r\n    currentExamId: '',\r\n    currentExamQuestionId: '',\r\n    currentExamResponseId: '',\r\n    currentExamUesdQuestionIds: [],\r\n\r\n    questionCount: 0,\r\n\r\n    rightCount: 0,\r\n\r\n    beginDate: '',\r\n\r\n    // 本周已报名次数\r\n    weekExamCount: 0,\r\n  },\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\r\n\r\nexport default exam;\r\n","const user = {\r\n  namespaced: true,\r\n  state: {\r\n    user: {}\r\n  },\r\n  mutations: {\r\n    setUser(state, data) {\r\n      console.log(444, data)\r\n      if (data) {\r\n        state.user = {\r\n          infoId: data.id,\r\n          nickname: data.attributes.nickname,\r\n          signature: data.attributes.signature,\r\n          higbestScore: data.attributes.higbestScore || 0,\r\n          leastTime: data.attributes.leastTime || 0,\r\n          isManage: data.attributes.isManage || false\r\n        };\r\n      }\r\n    },\r\n    setLogout(state) {\r\n      state.user = {};\r\n    }\r\n  }\r\n};\r\n\r\nexport default user;\r\n","import exam from \"./exam\";\r\nimport user from \"./user\";\r\n\r\nexport default {\r\n  user,\r\n  exam\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?[_vm._v(\"加载中...\")]:[_c('Remark'),(_vm.user.infoId)?_c('el-row',[_c('el-col',{attrs:{\"span\":16,\"xs\":24}},[_c('UserInfo'),(_vm.currentExamId)?_c('ExamInfo'):_vm._e(),(_vm.currentExamQuestionId)?_c('ExamProcess'):_c('ExamPre')],1),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('StatRank'),_c('StatCompletionPie')],1)],1):_c('Login')]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AV, { errorHandler } from \"./base\";\r\n\r\nexport function requestLogin({ account, password }) {\r\n  return new AV.User.logIn(account, password);\r\n}\r\n\r\nexport function requestRegister({ account, password }) {\r\n  return new AV.User()\r\n    .setUsername(account)\r\n    .setPassword(password)\r\n    .signUp()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function syncInfo() {\r\n  const Info = AV.Object.extend(\"User_Info\");\r\n  const {\r\n    id,\r\n    attributes: { username }\r\n  } = AV.User.current();\r\n  return new Info()\r\n    .set(\"userId\", id)\r\n    .set(\"nickname\", username)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function setNickname({ infoId, nickname }) {\r\n  return AV.Object.createWithoutData(\"User_Info\", infoId)\r\n    .set('nickname', nickname)\r\n    .save()\r\n}\r\n\r\nexport function setSignature({ infoId, signature }) {\r\n  return AV.Object.createWithoutData(\"User_Info\", infoId)\r\n    .set('signature', signature)\r\n    .save()\r\n}\r\n\r\nexport function requestLogout() {\r\n  return new AV.User.logOut();\r\n}\r\n\r\nexport function userInfo() {\r\n  const data = AV.User.current()\r\n  if (data && data.id) {\r\n    return new AV.Query(\"User_Info\")\r\n      .equalTo(\"userId\", AV.User.current().id)\r\n      .first()\r\n  } else {\r\n    return Promise.resolve()\r\n  }\r\n}\r\n\r\nexport function updateHigbestScore({ higbestScore, infoId }) {\r\n  const todo = AV.Object.createWithoutData(\"User_Info\", infoId);\r\n  return todo.set(\"higbestScore\", higbestScore).save();\r\n}\r\n\r\nexport function updateLeastTime({ leastTime }) {\r\n  const info = AV.User.current();\r\n  const todo = AV.Object.createWithoutData(\"User_Info\", info.id);\r\n  return todo.set(\"leastTime\", leastTime).save();\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-and-register\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"account\"}},[_c('el-input',{model:{value:(_vm.form.account),callback:function ($$v) {_vm.$set(_vm.form, \"account\", $$v)},expression:\"form.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setSubmit}},[_vm._v(\"登陆/自动注册\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import moment from \"moment\";\r\nimport AV from \"./base\";\r\n\r\nexport function requestUsersRank() {\r\n  return new AV.Query(\"User_Info\")\r\n    .descending(\"higbestScore\")\r\n    .addAscending(\"leastTime\")\r\n    .select(['nickname', \"higbestScore\", \"signature\"])\r\n    .include('nickname')\r\n    .limit(10)\r\n    .find();\r\n}\r\n\r\nexport function requestProportion({ score }) {\r\n  return new AV.Query(\"Stat_Scores\").equalTo(\"score\", score).first();\r\n}\r\n\r\nexport function addProportion({ score }) {\r\n  const Query = AV.Object.extend(\"Stat_Scores\");\r\n  return new Query()\r\n    .set(\"score\", score)\r\n    .set(\"value\", 1)\r\n    .save();\r\n}\r\n\r\nexport function updateProportion({ value, objectId }) {\r\n  return AV.Object.createWithoutData(\"Stat_Scores\", objectId)\r\n    .set(\"value\", value)\r\n    .save();\r\n}\r\n\r\nexport function requestUserCountLast() {\r\n  return new AV.Query(\"Stat_Users\")\r\n    .descending(\"createdAt\")\r\n    .first()\r\n}\r\n\r\nexport function requestUserCount() {\r\n  return new AV.Query(\"Stat_Users\")\r\n    .greaterThan(\"createdAt\", moment().startOf('days')._d)\r\n    .first()\r\n}\r\n\r\nexport function addUserCount({ value }) {\r\n  const Query = AV.Object.extend(\"Stat_Users\")\r\n  return new Query()\r\n    .set(\"value\", value)\r\n    .save()\r\n}\r\n\r\nexport function updateUserCount({ value, objectId }) {\r\n  return AV.Object.createWithoutData(\"Stat_Users\", objectId)\r\n    .set(\"value\", value)\r\n    .save();\r\n}\r\n\r\nexport function requestProportionAll() {\r\n  return new AV.Query(\"Stat_Scores\")\r\n    .greaterThan(\"value\", 0)\r\n    .descending(\"value\")\r\n    .find();\r\n}\r\n\r\nexport function requestUserCountAll() {\r\n  return new AV.Query(\"Stat_Users\")\r\n    .descending(\"createdAt\")\r\n    .limit(7)\r\n    .find();\r\n}\r\n","<template>\r\n  <div class=\"login-and-register\">\r\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"100px\">\r\n      <el-form-item label=\"账号\" prop=\"account\">\r\n        <el-input v-model=\"form.account\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"setSubmit\">登陆/自动注册</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { errorHandler } from \"@/services/base\";\r\nimport {\r\n  requestLogin,\r\n  requestRegister,\r\n  userInfo,\r\n  syncInfo\r\n} from \"@/services/user\";\r\nimport {\r\n  requestUserCount,\r\n  updateUserCount,\r\n  addUserCount,\r\n  requestUserCountLast\r\n} from \"@/services/stat\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      userId: 0,\r\n      form: {\r\n        account: \"\",\r\n        password: \"\"\r\n      },\r\n      rules: {\r\n        account: [{ required: true, message: \"请输入账号\", trigger: \"blur\" }],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"])\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"user\", [\"setUser\"]),\r\n    setSubmit() {\r\n      this.$refs.form.validate(valid => {\r\n        valid && this.setLogin(this.form);\r\n      });\r\n    },\r\n    setLogin() {\r\n      requestLogin(this.form)\r\n        .then(data => {\r\n          userInfo().then(data => {\r\n            this.setUser(data);\r\n          });\r\n          this.$message.success(\"登录成功！\");\r\n        })\r\n        .catch(e => {\r\n          if (e.code === 211) {\r\n            this.setRegister();\r\n          } else {\r\n            errorHandler(e);\r\n          }\r\n        });\r\n    },\r\n    setRegister() {\r\n      requestRegister(this.form)\r\n        .then(data => {\r\n          this.userId = data.id;\r\n          this.$message.success(\"注册成功！\");\r\n        })\r\n        .then(() => {\r\n          this.setUserInfo();\r\n        });\r\n    },\r\n    setUserInfo() {\r\n      syncInfo().then(data => {\r\n        this.setUser(data);\r\n        this.setUserCount();\r\n      });\r\n    },\r\n    setUserCount() {\r\n      requestUserCountLast().then(data => {\r\n        const num = data ? data.attributes.value : 0\r\n        requestUserCount().then(data => {\r\n          if (data) {\r\n            updateUserCount({\r\n              value: data.attributes.value + 1,\r\n              objectId: data.id\r\n            }).then();\r\n          } else {\r\n            addUserCount({ value: num + 1 }).then();\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-and-register {\r\n  width: 500px;\r\n  padding: 100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login2Register.vue?vue&type=template&id=c77340fc&scoped=true&\"\nimport script from \"./Login2Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Login2Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login2Register.vue?vue&type=style&index=0&id=c77340fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c77340fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"remark\"},[_c('p',[_vm._v(\" 登录/注册账号。 \"),_c('small',[_vm._v(\"未登录，则显示登陆/注册表单，登陆后，显示用户名称，点击名字可以设置昵称和签名。开始报名后展示进度（1/100）与得分，开始第n题开始答题。\")])]),_c('p',[_vm._v(\" 开始答题，每个题限时，选择答案或限时给可执行的函数。（核心） \"),_c('small',[_vm._v(\"手动触发开始，开始后及计时。回答中，关闭页面算放弃。一周只能考两次，单次时间为完成或放弃时间，可以放弃后重新开始考试。\")])]),_c('p',[_vm._v(\" 每个题回答结束后，可以打分，可以评论，可以下一题。共一百道题。（互动） \")]),_c('p',[_vm._v(\" 手绘版图表，一个完成度饼图，一个参与人数曲线，前10名完成度与时间规则的排名用户。（反馈） \"),_c('small',[_vm._v(\"侧栏固定依次展示，我的进度、饼图、曲线、排名信息。\")])]),_c('hr'),_c('p',[_vm._v(\" 永久存储，简单交互。 \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"remark\">\r\n    <p>\r\n      登录/注册账号。\r\n      <small>未登录，则显示登陆/注册表单，登陆后，显示用户名称，点击名字可以设置昵称和签名。开始报名后展示进度（1/100）与得分，开始第n题开始答题。</small>\r\n    </p>\r\n    <p>\r\n      开始答题，每个题限时，选择答案或限时给可执行的函数。（核心）\r\n      <small>手动触发开始，开始后及计时。回答中，关闭页面算放弃。一周只能考两次，单次时间为完成或放弃时间，可以放弃后重新开始考试。</small>\r\n    </p>\r\n    <p>\r\n      每个题回答结束后，可以打分，可以评论，可以下一题。共一百道题。（互动）\r\n      <!-- <small>打分范围为1~5分，评论可以回复，点赞。</small> -->\r\n    </p>\r\n    <p>\r\n      手绘版图表，一个完成度饼图，一个参与人数曲线，前10名完成度与时间规则的排名用户。（反馈）\r\n      <small>侧栏固定依次展示，我的进度、饼图、曲线、排名信息。</small>\r\n    </p>\r\n    <hr />\r\n    <p>\r\n      永久存储，简单交互。\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Remark\"\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.remark {\r\n    border-left: 3px solid #d87f00;\r\n    background: #f9f9f9;\r\n    padding: 30px;\r\n    color: #cccccc;\r\n\t\tfont-size: 12px;\r\n\r\n    hr {\r\n      border: 0px;\r\n      border-top: 1px solid #eee;\r\n    }\r\n\r\n\t\tp {\r\n\t\t\tmargin: 0\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Remark.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Remark.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Remark.vue?vue&type=template&id=ac7bebc4&scoped=true&\"\nimport script from \"./Remark.vue?vue&type=script&lang=js&\"\nexport * from \"./Remark.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Remark.vue?vue&type=style&index=0&id=ac7bebc4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac7bebc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-info\"},[_c('h1',{staticClass:\"nickname\"},[_c('span',{staticClass:\"text\",on:{\"click\":_vm.openSet}},[_vm._v(_vm._s(_vm.user.nickname || '?'))]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.logout}},[_vm._v(\"注销\")]),(_vm.user.isManage)?_c('router-link',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"to\":\"/commit\"}},[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"题目管理\")])],1):_vm._e()],1),_c('p',{staticClass:\"signature\"},[_vm._v(_vm._s(_vm.user.signature))]),_c('UserSetInfo',{ref:\"setInfo\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"设置\",\"width\":\"400px\",\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"签名\",\"prop\":\"signature\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"row\":3},model:{value:(_vm.form.signature),callback:function ($$v) {_vm.$set(_vm.form, \"signature\", $$v)},expression:\"form.signature\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setSubmit}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog\r\n    title=\"设置\"\r\n    width=\"400px\"\r\n    :visible.sync=\"dialogVisible\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n  >\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-form-item label=\"昵称\" prop=\"nickname\">\r\n        <el-input v-model=\"form.nickname\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"签名\" prop=\"signature\">\r\n        <el-input type=\"textarea\" :row=\"3\" v-model=\"form.signature\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeDialog\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"setSubmit\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nimport { setNickname, setSignature } from \"@/services/user\";\r\n\r\nexport default {\r\n  name: \"UserSetInfo\",\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      form: {\r\n        nickname: \"\",\r\n        signature: \"\"\r\n      },\r\n      rules: {\r\n        nickname: [\r\n          { required: true, message: \"昵称不能为空\", trigger: \"blur\" },\r\n          { min: 3, max: 20, message: \"长度在 3 到 20 个字符\", trigger: \"blur\" }\r\n        ],\r\n        signature: [\r\n          { max: 100, message: \"最大长度到 100 个字符\", trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"])\r\n  },\r\n  methods: {\r\n    setSubmit() {\r\n      this.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          const { infoId } = this.user;\r\n          const { nickname, signature } = this.form;\r\n          Promise.resolve()\r\n            .then(() => {\r\n              if (this.user.nickname !== this.form.nickname) {\r\n                return setNickname({ nickname, infoId }).then(() => {\r\n                  this.user.nickname = this.form.nickname;\r\n                });\r\n              }\r\n            })\r\n            .then(() => {\r\n              if (this.user.signature !== this.form.signature) {\r\n                return setSignature({ signature, infoId }).then(() => {\r\n                  this.user.signature = this.form.signature;\r\n                });\r\n              }\r\n            })\r\n            .finally(() => {\r\n              this.closeDialog();\r\n            });\r\n        }\r\n      });\r\n    },\r\n    closeDialog() {\r\n      this.dialogVisible = false;\r\n      // this.$refs.form.resetField();\r\n    },\r\n    open() {\r\n      console.log(222, this.dialogVisible);\r\n      this.dialogVisible = true;\r\n\r\n      this.form.nickname = this.user.nickname;\r\n      this.form.signature = this.user.signature;\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetInfo.vue?vue&type=template&id=147a5b57&\"\nimport script from \"./SetInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./SetInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"user-info\">\r\n    <h1 class=\"nickname\">\r\n      <span class=\"text\" @click=\"openSet\">{{ user.nickname || '?' }}</span>\r\n      <el-button type=\"text\" @click=\"logout\">注销</el-button>\r\n      <router-link v-if=\"user.isManage\" to=\"/commit\" style=\"margin-left: 20px;\">\r\n        <el-button type=\"text\" >题目管理</el-button>\r\n      </router-link>\r\n    </h1>\r\n    <p class=\"signature\">{{ user.signature }}</p>\r\n    <!-- <p class=\"best-score\" v-if=\"examData.score\">\r\n      单轮最佳得分：{{ examData.score }}\r\n      <small>（用时{{ examData.totalTime }}）</small>\r\n    </p> -->\r\n    <UserSetInfo ref=\"setInfo\"></UserSetInfo>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nimport { requestLogout } from '@/services/user'\r\nimport { requestBestExam } from \"@/services/exam\"\r\n\r\nimport UserSetInfo from \"./SetInfo.vue\";\r\n\r\nexport default {\r\n  name: \"UserInfo\",\r\n  data() {\r\n    return {\r\n      examData: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"]),\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"user\", [\"setLogout\"]),\r\n    ...mapMutations(\"exam\", [\"resetExam\"]),\r\n    logout() {\r\n      requestLogout()\r\n      this.setLogout()\r\n      this.resetExam()\r\n    },\r\n    requestBestExam() {\r\n      requestBestExam().then(data => {\r\n        const { score, totalTime } = data.attributes\r\n        this.examData = { score, totalTime }\r\n      })\r\n    },\r\n    openSet() {\r\n      this.$refs.setInfo.open()\r\n    }\r\n  },\r\n  components: {\r\n    UserSetInfo\r\n  },\r\n  mounted() {\r\n    this.requestBestExam()\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .user-info {\r\n    margin: 50px 0;\r\n\r\n    .nickname {\r\n      margin: 0px;\r\n\r\n      .text {\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n\r\n    .signature {\r\n      font-size: 14px;\r\n      color: #aaa;\r\n      margin: 0px;\r\n    }\r\n\r\n    .best-score {\r\n      margin: 0px;\r\n      color: #aaa;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserInfo.vue?vue&type=template&id=167732f2&scoped=true&\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserInfo.vue?vue&type=style&index=0&id=167732f2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"167732f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[(_vm.loading)?[_vm._v(\"加载中...\")]:[(_vm.questionCount >= _vm.MIN_QUESTION_QUANTITY)?[(_vm.currentExamId && _vm.amount <= _vm.questionCount)?[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setNext}},[_vm._v(\"开始第\"+_vm._s(_vm.amount + 1)+\"题\")]),_c('el-button',{on:{\"click\":_vm.setAbandon}},[_vm._v(\"放弃此轮\")])]:[(_vm.weekExamCount < _vm.WEEK_APPLY_QUANTITY)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setApply}},[_vm._v(\"现在报名（本周剩余次数: \"+_vm._s(_vm.WEEK_APPLY_QUANTITY - _vm.weekExamCount)+\"）\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"每周仅\"+_vm._s(_vm.WEEK_APPLY_QUANTITY)+\"次报名机会\")])]]:_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"尚未开放（进度 \"+_vm._s(_vm.questionCount)+\" / \"+_vm._s(_vm.MIN_QUESTION_QUANTITY)+\"）\")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n// 报名的前提条件：题目最小数量要求\r\nexport const MIN_QUESTION_QUANTITY = 100\r\n\r\n// 每周报名上限\r\nexport const WEEK_APPLY_QUANTITY = 2","<template>\r\n  <div class>\r\n    <template v-if=\"loading\">加载中...</template>\r\n    <template v-else>\r\n      <template v-if=\"questionCount >= MIN_QUESTION_QUANTITY\">\r\n        <template v-if=\"currentExamId && amount <= questionCount\">\r\n          <el-button type=\"primary\" @click=\"setNext\">开始第{{ amount + 1 }}题</el-button>\r\n          <el-button @click=\"setAbandon\">放弃此轮</el-button>\r\n        </template>\r\n        <template v-else>\r\n          <el-button\r\n            v-if=\"weekExamCount < WEEK_APPLY_QUANTITY\"\r\n            type=\"primary\"\r\n            @click=\"setApply\"\r\n          >现在报名（本周剩余次数: {{ WEEK_APPLY_QUANTITY - weekExamCount }}）</el-button>\r\n          <el-button v-else type=\"primary\" disabled>每周仅{{ WEEK_APPLY_QUANTITY }}次报名机会</el-button>\r\n        </template>\r\n      </template>\r\n      <el-button\r\n        v-else\r\n        type=\"primary\"\r\n        disabled\r\n      >尚未开放（进度 {{ questionCount }} / {{ MIN_QUESTION_QUANTITY }}）</el-button>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nimport { MIN_QUESTION_QUANTITY, WEEK_APPLY_QUANTITY } from \"@/common/consts\";\r\n\r\nimport {\r\n  addExam,\r\n  myExam,\r\n  myWeekTimes,\r\n  currentExamQuestionIds\r\n} from \"@/services/exam\";\r\nimport { requestCount, questionRandomArr } from \"@/services/question\";\r\n\r\nexport default {\r\n  name: \"ExamPre\",\r\n  data() {\r\n    return {\r\n      MIN_QUESTION_QUANTITY,\r\n      WEEK_APPLY_QUANTITY,\r\n\r\n      loading: true,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"]),\r\n    ...mapState(\"exam\", [\r\n      \"questionCount\",\r\n      \"currentExamId\",\r\n      \"currentExamUesdQuestionIds\",\r\n      \"beginDate\",\r\n      \"weekExamCount\"\r\n    ]),\r\n    ...mapGetters(\"exam\", [\"amount\"])\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"exam\", [\r\n      \"setCurrentExamId\",\r\n      \"setCurrentExamUesdQuestionIds\",\r\n      \"setQuestionCount\",\r\n      \"setBeginDate\",\r\n      \"setWeekExamCount\"\r\n    ]),\r\n    ...mapActions(\"exam\", [\"setNext\", \"setAbandonExam\"]),\r\n    getQuestionCount() {\r\n      return requestCount().then(num => {\r\n        this.setQuestionCount(num);\r\n      });\r\n    },\r\n    getWeekTimes() {\r\n      return myWeekTimes().then(num => {\r\n        this.setWeekExamCount(num)\r\n      });\r\n    },\r\n    getMyExam() {\r\n      return myExam().then(data => {\r\n        if (data) {\r\n          this.setBeginDate(data.createdAt);\r\n          this.setCurrentExamId(data.id);\r\n        }\r\n      });\r\n    },\r\n    // 获取当前轮次，已经用过的问题列表\r\n    getCurrentExamQuestion() {\r\n      return currentExamQuestionIds({\r\n        examId: this.currentExamId\r\n      }).then(data => {\r\n        this.setCurrentExamUesdQuestionIds(\r\n          data.map(d => d.attributes.questionId)\r\n        );\r\n      });\r\n    },\r\n    setAbandon() {\r\n      const totalTime = moment().diff(this.beginDate, \"s\");\r\n      this.setAbandonExam(totalTime);\r\n    },\r\n    setFinish() {\r\n      // 超出总题数，或完成所有答题\r\n      // 则结束单轮\r\n      if (\r\n        this.amount >= this.questionCount ||\r\n        this.amount >= MIN_QUESTION_QUANTITY\r\n      ) {\r\n        this.setAbandon();\r\n      }\r\n    },\r\n    setApply() {\r\n      return addExam().then(() => {\r\n        this.setWeekExamCount(this.weekExamCount + 1)\r\n        this.getMyExam()\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getQuestionCount()\r\n      .then(() => this.getWeekTimes())\r\n      .then(() => this.getMyExam())\r\n      .then(() => this.currentExamId && this.getCurrentExamQuestion())\r\n      .then(() => this.currentExamId && this.setFinish())\r\n      .then(() => (this.loading = false));\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamPre.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamPre.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExamPre.vue?vue&type=template&id=675a894d&\"\nimport script from \"./ExamPre.vue?vue&type=script&lang=js&\"\nexport * from \"./ExamPre.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[(_vm.status < 2)?_c('div',{staticClass:\"exam-timer\",staticStyle:{\"width\":\"200px\"}},[_c('span',{staticClass:\"text\"},[_vm._v(\"剩余\"+_vm._s(_vm.timerValue)+\"秒\")]),_c('el-progress',{attrs:{\"percentage\":_vm.timerPercetage,\"format\":_vm.formatProgress}})],1):_vm._e(),_c('h3',[_vm._v(_vm._s(_vm.question))]),(_vm.status > 0)?_c('el-checkbox-group',{model:{value:(_vm.answerIds),callback:function ($$v) {_vm.answerIds=$$v},expression:\"answerIds\"}},_vm._l((_vm.answers),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id,\"disabled\":_vm.status !== 1}},[_vm._v(_vm._s(item.text))])}),1):_vm._e(),_c('br'),(_vm.status > 1 && _vm.allowNext)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setNext}},[_vm._v(\"开始第\"+_vm._s(_vm.amount + 1)+\"题\")]):_vm._e(),(_vm.status > 1 && !_vm.allowNext)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.setFinish}},[_vm._v(\"完成\")]):_vm._e(),(_vm.status > 1)?_c('QuestionTalkList',{attrs:{\"questionId\":_vm.currentExamQuestionId}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"question-talk-list\"},[_c('QuestionTalkForm',{attrs:{\"questionId\":_vm.questionId},on:{\"success\":_vm.updateTalkMessage}}),_c('div',[(_vm.list.length === 0)?_c('div',{staticClass:\"empty\"},[_vm._v(\"暂无评论\")]):_vm._e(),_vm._l((_vm.list),function(item,index){return [(item.message)?_c('div',{key:index,staticClass:\"talk-item\"},[_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.user || '?'))]),_c('p',{staticClass:\"message\"},[_vm._v(_vm._s(item.message))])]):_vm._e()]}),(_vm.total > _vm.limit)?[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"background\":\"\",\"total\":_vm.total},on:{\"current-change\":_vm.getCurrent}})]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AV, { errorHandler } from \"./base\";\r\n\r\nexport function addMessage({ message, questionId }) {\r\n  const Talk = AV.Object.extend(\"Question_Talk\");\r\n  return new Talk()\r\n    .set(\"message\", message)\r\n    .set(\"questionId\", questionId)\r\n    .set(\"userId\", AV.User.current().id)\r\n    .save()\r\n    .catch(errorHandler);\r\n}\r\n\r\nexport function requestMessages({ questionId, limit, skip }) {\r\n  const talk = new AV.Query(\"Question_Talk\");\r\n  talk.equalTo(\"questionId\", questionId);\r\n  talk.descending('createdAt');\r\n  talk.limit(limit).skip(skip)\r\n  return talk.find().catch(errorHandler);\r\n}\r\n\r\nexport function requestMessageUsers({ questionId, skip, limit }) {\r\n  const talk = new AV.Query(\"Question_Talk\");\r\n  const user = new AV.Query(\"User_Info\");\r\n  talk.equalTo(\"questionId\", questionId);\r\n  talk.descending('createdAt');\r\n  talk.limit(limit).skip(skip)\r\n  user.matchesKeyInQuery(\"userId\", \"userId\", talk);\r\n  return user.find().catch(errorHandler);\r\n}\r\n\r\nexport function requestTotal({ questionId }) {\r\n  return new AV.Query(\"Question_Talk\")\r\n    .equalTo(\"questionId\", questionId)\r\n    .count()\r\n    .catch(errorHandler);\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"question-talk-form\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',[_c('el-input',{model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.setSubmit}},[_vm._v(\"评论\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"question-talk-form\">\r\n    <el-form :inline=\"true\">\r\n      <el-form-item>\r\n        <el-input v-model=\"message\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"setSubmit\">评论</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nimport { addMessage } from \"@/services/talk\";\r\n\r\nexport default {\r\n  name: \"QuestionTalkForm\",\r\n  props: {\r\n    questionId: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      message: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"]),\r\n  },\r\n  methods: {\r\n    setSubmit() {\r\n      addMessage({\r\n        message: this.message,\r\n        questionId: this.questionId\r\n      }).then(data => {\r\n        this.$emit('success', {\r\n          user: this.user.nickname,\r\n          message: this.message\r\n        })\r\n        this.message = \"\";\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.question-talk-form {\r\n  width: 500px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=50864a59&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=50864a59&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50864a59\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"question-talk-list\">\r\n    <QuestionTalkForm :questionId=\"questionId\" @success=\"updateTalkMessage\"></QuestionTalkForm>\r\n    <div>\r\n      <div class=\"empty\" v-if=\"list.length === 0\">暂无评论</div>\r\n      <template v-for=\"(item, index) in list\">\r\n        <div v-if=\"item.message\" class=\"talk-item\" :key=\"index\">\r\n          <p class=\"nickname\">{{ item.user || '?' }}</p>\r\n          <p class=\"message\">{{ item.message }}</p>\r\n        </div>\r\n      </template>\r\n      <template v-if=\"total > limit\">\r\n        <el-pagination\r\n          layout=\"prev, pager, next\"\r\n          background\r\n          @current-change=\"getCurrent\"\r\n          :total=\"total\"\r\n        ></el-pagination>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  requestMessages,\r\n  requestMessageUsers,\r\n  requestTotal\r\n} from \"@/services/talk\";\r\n\r\nimport QuestionTalkForm from \"../question-talk/Form.vue\";\r\n\r\nexport default {\r\n  name: \"QuestionTalkList\",\r\n  props: {\r\n    questionId: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      total: 0,\r\n      current: 0,\r\n      limit: 10,\r\n\r\n      list: []\r\n    };\r\n  },\r\n  computed: {\r\n    requestQuery() {\r\n      return {\r\n        limit: this.limit,\r\n        skip: this.limit * (this.current - 1),\r\n        questionId: this.questionId\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    getCurrent(num) {\r\n      this.current = num;\r\n      if (num) {\r\n        this.requestMessage();\r\n      }\r\n    },\r\n    requestMessage() {\r\n      requestMessages(this.requestQuery).then(data => {\r\n        this.list = data.map(d => ({\r\n          id: d.id,\r\n          uid: d.attributes.userId,\r\n          message: d.attributes.message,\r\n          user: \"\"\r\n        }));\r\n        if (this.list.length > 0) {\r\n          this.requestMessageUsers();\r\n        }\r\n      });\r\n    },\r\n    requestMessageUsers() {\r\n      requestMessageUsers(this.requestQuery).then(data => {\r\n        const names = {};\r\n        data.forEach(d => {\r\n          names[d.attributes.userId] = d.attributes.nickname;\r\n        });\r\n        this.list.forEach(d => {\r\n          d.user = names[d.uid];\r\n        });\r\n      });\r\n    },\r\n    requestTotal() {\r\n      requestTotal({\r\n        questionId: this.questionId\r\n      }).then(num => {\r\n        this.total = num;\r\n      });\r\n    },\r\n    updateTalkMessage(item) {\r\n      this.list.unshift(item);\r\n    }\r\n  },\r\n  components: {\r\n    QuestionTalkForm\r\n  },\r\n  created() {\r\n    this.requestMessage();\r\n    this.requestTotal();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.question-talk-list {\r\n  margin-top: 100px;\r\n\r\n  .empty {\r\n    padding: 20px 10px;\r\n    font-size: 12px;\r\n    color: #ddd;\r\n  }\r\n\r\n  .talk-item {\r\n    margin: 20px 0;\r\n\r\n    p {\r\n      margin: 0px;\r\n    }\r\n\r\n    .nickname {\r\n      font-size: 14px;\r\n      color: #ccc;\r\n    }\r\n    .message {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=7b619a90&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=7b619a90&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b619a90\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class>\r\n    <div v-if=\"status < 2\" class=\"exam-timer\" style=\"width: 200px;\">\r\n      <span class=\"text\">剩余{{ timerValue }}秒</span>\r\n      <el-progress :percentage=\"timerPercetage\" :format=\"formatProgress\"></el-progress>\r\n    </div>\r\n    <h3>{{ question }}</h3>\r\n    <el-checkbox-group v-if=\"status > 0\" v-model=\"answerIds\">\r\n      <el-checkbox\r\n        v-for=\"item in answers\"\r\n        :key=\"item.id\"\r\n        :label=\"item.id\"\r\n        :disabled=\"status !== 1\"\r\n      >{{ item.text }}</el-checkbox>\r\n    </el-checkbox-group>\r\n    <br />\r\n    <el-button v-if=\"status > 1 && allowNext\" type=\"primary\" @click=\"setNext\">开始第{{ amount + 1 }}题</el-button>\r\n    <el-button v-if=\"status > 1 && !allowNext\" type=\"primary\" @click=\"setFinish\">完成</el-button>\r\n    <QuestionTalkList v-if=\"status > 1\" :questionId=\"currentExamQuestionId\"></QuestionTalkList>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nimport { MIN_QUESTION_QUANTITY, WEEK_APPLY_QUANTITY } from \"@/common/consts\";\r\n\r\nimport QuestionTalkList from \"../question-talk/List.vue\";\r\n\r\nimport {\r\n  addExamQuestionAnswer,\r\n  settlementExam,\r\n  abandonExam\r\n} from \"@/services/exam\";\r\nimport { questionItem, questionAnswers } from \"@/services/question\";\r\nimport { updateHigbestScore, updateLeastTime } from \"@/services/user\";\r\nimport {\r\n  requestProportion,\r\n  addProportion,\r\n  updateProportion\r\n} from \"@/services/stat\";\r\n\r\nexport default {\r\n  name: \"ExamProcess\",\r\n  data() {\r\n    return {\r\n      MIN_QUESTION_QUANTITY,\r\n\r\n      question: \"\",\r\n      answers: [],\r\n      answerIds: [],\r\n\r\n      status: 0,\r\n\r\n      timer: null,\r\n      timerValue: 1,\r\n      timerTotal: 1,\r\n      timerPercetage: 100\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"]),\r\n    ...mapState(\"exam\", [\r\n      \"currentExamId\",\r\n      \"currentExamQuestionId\",\r\n      \"currentExamResponseId\",\r\n      \"questionCount\",\r\n      \"rightCount\",\r\n      \"beginDate\"\r\n    ]),\r\n    ...mapGetters(\"exam\", [\"amount\"]),\r\n    allowNext() {\r\n      return (\r\n        this.amount < this.questionCount || this.amount < MIN_QUESTION_QUANTITY\r\n      );\r\n    }\r\n  },\r\n  watch: {\r\n    currentExamResponseId() {\r\n      this.questionItem();\r\n      this.questionAnswers();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"exam\", [\"updateRightCount\"]),\r\n    ...mapActions(\"exam\", [\"setNext\", \"setAbandonExam\"]),\r\n    setTimer(value, callback) {\r\n      if (!this.timer) {\r\n        this.timerTotal = value < 10 ? 10 : value;\r\n        this.timerValue = this.timerTotal;\r\n        this.timer = setInterval(() => {\r\n          this.timerValue -= 1;\r\n          this.timerPercetage = parseInt(\r\n            (this.timerValue / this.timerTotal) * 100\r\n          );\r\n          if (this.timerValue <= 0) {\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n            callback();\r\n          }\r\n        }, 500);\r\n      }\r\n    },\r\n    questionItem() {\r\n      this.status = 0;\r\n      questionItem({\r\n        objectId: this.currentExamQuestionId\r\n      }).then(data => {\r\n        this.question = data.attributes.title;\r\n        this.setTimer(this.question.length, () => {\r\n          this.status = 1;\r\n          const length = this.answers\r\n            .map(d => d.text.length)\r\n            .concat(0)\r\n            .reduce((a, b) => a + b);\r\n          this.setTimer(length, () => {\r\n            this.status = 2;\r\n            this.addExamQuestionAnswer();\r\n          });\r\n        });\r\n      });\r\n    },\r\n    questionAnswers() {\r\n      questionAnswers({\r\n        questionId: this.currentExamQuestionId\r\n      }).then(data => {\r\n        this.answers = data.map(d => ({\r\n          id: d.id,\r\n          text: d.attributes.text,\r\n          right: d.attributes.right\r\n        }));\r\n      });\r\n    },\r\n    formatProgress(value) {\r\n      return \"\";\r\n    },\r\n    parseRight() {\r\n      return this.answers.every(d => d.right === this.answerIds.includes(d.id));\r\n    },\r\n    // 存储答案\r\n    addExamQuestionAnswer() {\r\n      const right = this.parseRight();\r\n      addExamQuestionAnswer({\r\n        responseId: this.currentExamResponseId,\r\n        answerIds: this.answerIds,\r\n        right\r\n      }).then(data => {\r\n        if (right) {\r\n          this.updateRightCount();\r\n        }\r\n        this.setFinishAnswer();\r\n      });\r\n    },\r\n    // 结算\r\n    setFinishAnswer() {\r\n      this.settlementExam();\r\n      this.setUpdateExam();\r\n      if (this.rightCount > this.user.higbestScore) {\r\n        updateHigbestScore({\r\n          higbestScore: this.rightCount,\r\n          infoId: this.user.infoId\r\n        }).then(() => {\r\n          if (this.rightCount > 1) {\r\n            this.setProportion(this.rightCount - 1, -1);\r\n          }\r\n          this.setProportion(this.rightCount);\r\n        });\r\n      }\r\n    },\r\n    // 更新占比\r\n    setProportion(score, value = 1) {\r\n      requestProportion({ score: score }).then(data => {\r\n        if (data) {\r\n          updateProportion({\r\n            value: data.attributes.value + value,\r\n            objectId: data.id\r\n          }).then();\r\n        } else if (value === 1) {\r\n          addProportion({ score, value: 1 }).then();\r\n        }\r\n      });\r\n    },\r\n    setUpdateExam() {\r\n      if (\r\n        this.amount >= this.questionCount ||\r\n        this.amount >= MIN_QUESTION_QUANTITY\r\n      ) {\r\n        this.setFinish();\r\n      }\r\n    },\r\n    // 更新次轮数据\r\n    settlementExam() {\r\n      const totalTime = moment().diff(this.beginDate, \"s\");\r\n      settlementExam({\r\n        examId: this.currentExamId,\r\n        score: this.rightCount,\r\n        totalTime\r\n      }).then(() => {\r\n        // this.setTotalTime(totalTime);\r\n      });\r\n    },\r\n    setFinish() {\r\n      finishExam({ examId: this.currentExamId }).then();\r\n    }\r\n  },\r\n  components: {\r\n    QuestionTalkList\r\n  },\r\n  created() {\r\n    this.questionItem();\r\n    this.questionAnswers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.exam-timer {\r\n  .text {\r\n    font-size: 12px;\r\n    color: #ccc;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExamProcess.vue?vue&type=template&id=280383e7&scoped=true&\"\nimport script from \"./ExamProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./ExamProcess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExamProcess.vue?vue&type=style&index=0&id=280383e7&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"280383e7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[(_vm.amount)?_c('h5',[_vm._v(\" 进度：\"+_vm._s(_vm.amount)+\" / \"+_vm._s(_vm.MIN_QUESTION_QUANTITY)+\" \"),_c('p',[_vm._v(\"分数: \"+_vm._s(_vm.rightCount))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class>\r\n    <h5 v-if=\"amount\">\r\n      进度：{{ amount }} / {{ MIN_QUESTION_QUANTITY }}\r\n      <p>分数: {{ rightCount }}</p>\r\n    </h5>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\r\n\r\nimport { MIN_QUESTION_QUANTITY } from \"@/common/consts\";\r\n\r\nimport { myRightAnswerCount } from \"@/services/exam\";\r\n\r\nexport default {\r\n  name: \"ExamInfo\",\r\n  data() {\r\n    return {\r\n      MIN_QUESTION_QUANTITY\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"exam\", [\"currentExamId\", \"rightCount\"]),\r\n    ...mapGetters(\"exam\", [\"amount\"])\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"exam\", [\"setRightCount\"]),\r\n  },\r\n  mounted() {\r\n    myRightAnswerCount({\r\n      examId: this.currentExamId\r\n    }).then(num => {\r\n      this.setRightCount(num)\r\n    })\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExamInfo.vue?vue&type=template&id=66e8abd6&\"\nimport script from \"./ExamInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ExamInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"pie0\"}}),_c('div',{attrs:{\"id\":\"line0\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div id=\"pie0\"></div>\r\n    <!-- <div id=\"donut0\"></div> -->\r\n    <div id=\"line0\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport roughViz from \"rough-viz\";\r\nimport moment from \"moment\";\r\n\r\nimport { requestProportionAll, requestUserCountAll } from \"@/services/stat\";\r\n\r\nexport default {\r\n  name: \"StatCompletionPie\",\r\n  data() {\r\n    return {\r\n      proportion: [],\r\n      userCount: []\r\n    };\r\n  },\r\n  methods: {\r\n    requestProportion() {\r\n      const labels = [];\r\n      const values = [];\r\n      return requestProportionAll().then(data => {\r\n        data.forEach(d => {\r\n          labels.push(`完成${d.attributes.score}道题的人数`);\r\n          values.push(d.attributes.value);\r\n        });\r\n        this.proportion = { labels, values };\r\n      });\r\n    },\r\n    requestUserCountAll() {\r\n      const labels = [];\r\n      const values = [];\r\n      return requestUserCountAll().then(data => {\r\n        data.forEach((d, i) => {\r\n          labels.push(moment(d.createdAt).format(\"MM/DD\") + \"人数\");\r\n          // labels.unshift(moment().add(i, \"days\").format(\"MM/DD\") + \"参与人数\");\r\n          values.unshift(d.attributes.value);\r\n        });\r\n        this.userCount = { labels, values };\r\n      });\r\n    },\r\n    drawPie() {\r\n      new roughViz.Pie({\r\n        element: \"#pie0\",\r\n        title: \"completion proportion\",\r\n        titleFontSize: \"1em\",\r\n        legend: false,\r\n        roughness: 1,\r\n        strokeWidth: 2,\r\n        width: 300,\r\n        height: 300,\r\n        color: \"pink\",\r\n        fillWeight: 1.5,\r\n        data: this.proportion\r\n      });\r\n    },\r\n    drawBar() {\r\n      new roughViz.Bar({\r\n        title: \"user counting\",\r\n        titleFontSize: \"1em\",\r\n        element: \"#line0\",\r\n        data: this.userCount,\r\n        width: 300,\r\n        height: 300,\r\n        roughness: 1,\r\n        margin: { top: 50, right: 20, bottom: 70, left: 40 }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.requestProportion()\r\n      .then(() => this.drawPie())\r\n      .then(() => this.requestUserCountAll())\r\n      .then(() => this.drawBar());\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompletionPie.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompletionPie.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompletionPie.vue?vue&type=template&id=d4faa5fa&\"\nimport script from \"./CompletionPie.vue?vue&type=script&lang=js&\"\nexport * from \"./CompletionPie.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"stat-rank\"},_vm._l((_vm.list),function(item){return _c('div',{key:item.id,staticClass:\"item\"},[_c('span',{staticClass:\"index\"},[_vm._v(_vm._s(item.score || 0))]),_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(item.nickname)+\" \"),_c('p',{staticClass:\"signature\"},[_vm._v(_vm._s(item.signature))])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"stat-rank\">\r\n    <div v-for=\"item in list\" :key=\"item.id\" class=\"item\">\r\n      <span class=\"index\">{{ item.score || 0 }}</span>\r\n      <span class=\"text\">\r\n        {{ item.nickname }}\r\n        <p class=\"signature\">{{ item.signature }}</p>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { requestUsersRank } from \"@/services/stat\";\r\n\r\nexport default {\r\n  name: \"StatRank\",\r\n  data() {\r\n    return {\r\n      list: []\r\n    };\r\n  },\r\n  methods: {\r\n    requestUsersRank() {\r\n      requestUsersRank().then(data => {\r\n        this.list = data.map(d => ({\r\n          id: d.id,\r\n          nickname: d.attributes.nickname,\r\n          signature: d.attributes.signature,\r\n          score: d.attributes.higbestScore\r\n        }));\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.requestUsersRank();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.stat-rank {\r\n  margin-top: 60px;\r\n\r\n  .item {\r\n    margin: 10px;\r\n    display: inline-block;\r\n    width: 100%;\r\n\r\n    .index {\r\n      float: left;\r\n      background: #eee;\r\n      padding: 3px 6px;\r\n      margin-right: 10px;\r\n      color: #aaa;\r\n      font-size: 12px;\r\n      border-radius: 3px;\r\n      width: 24px;\r\n      text-align: center;\r\n    }\r\n\r\n    .text {\r\n      float: left;\r\n    }\r\n\r\n    .signature {\r\n      font-size: 12px;\r\n      color: #aaa;\r\n      margin: 0px;\r\n    }\r\n\r\n    &:nth-child(1) {\r\n      .index {\r\n        background: #e25500;\r\n        color: #fff;\r\n      }\r\n    }\r\n    &:nth-child(2) {\r\n      .index {\r\n        background: #f17c35;\r\n        color: #fff;\r\n      }\r\n    }\r\n    &:nth-child(3) {\r\n      .index {\r\n        background: #ffbc92;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rank.vue?vue&type=template&id=d829117c&scoped=true&\"\nimport script from \"./Rank.vue?vue&type=script&lang=js&\"\nexport * from \"./Rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rank.vue?vue&type=style&index=0&id=d829117c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d829117c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <template v-if=\"loading\">加载中...</template>\r\n    <template v-else>\r\n      <Remark></Remark>\r\n      <el-row v-if=\"user.infoId\">\r\n        <el-col :span=\"16\" :xs=\"24\">\r\n          <UserInfo></UserInfo>\r\n          <ExamInfo v-if=\"currentExamId\"></ExamInfo>\r\n          <ExamProcess v-if=\"currentExamQuestionId\"></ExamProcess>\r\n          <ExamPre v-else></ExamPre>\r\n        </el-col>\r\n        <el-col :span=\"8\" :xs=\"24\">\r\n          <StatRank></StatRank>\r\n          <StatCompletionPie></StatCompletionPie>\r\n        </el-col>\r\n      </el-row>\r\n      <Login v-else></Login>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nimport { userInfo } from \"@/services/user\";\r\n\r\nimport Login from \"@/components/user/Login2Register.vue\";\r\nimport Remark from \"@/components/user/Remark.vue\";\r\nimport UserInfo from \"@/components/user/UserInfo.vue\";\r\nimport ExamPre from \"@/components/examine/ExamPre.vue\";\r\nimport ExamProcess from \"@/components/examine/ExamProcess.vue\";\r\nimport ExamInfo from \"@/components/examine/ExamInfo.vue\";\r\nimport QuestionTalkForm from \"@/components/question-talk/Form.vue\";\r\nimport QuestionTalkList from \"@/components/question-talk/List.vue\";\r\nimport StatCompletionPie from \"@/components/stat/CompletionPie.vue\";\r\nimport StatRank from \"@/components/stat/Rank.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"user\", [\"user\"]),\r\n    ...mapState(\"exam\", [\"currentExamId\", \"currentExamQuestionId\"])\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"user\", [\"setUser\"])\r\n  },\r\n  components: {\r\n    Remark,\r\n    Login,\r\n    UserInfo,\r\n    ExamPre,\r\n    ExamProcess,\r\n    ExamInfo,\r\n    QuestionTalkForm,\r\n    QuestionTalkList,\r\n    StatCompletionPie,\r\n    StatRank\r\n  },\r\n  mounted() {\r\n    this.loading = true;\r\n    userInfo()\r\n      .then(data => this.setUser(data))\r\n      .finally(() => {\r\n        this.loading = false;\r\n      });\r\n  }\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=11725c96&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Commit\")]),_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"问题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.form.text),callback:function ($$v) {_vm.$set(_vm.form, \"text\", $$v)},expression:\"form.text\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.pushAnswer}},[_vm._v(\"添加项\")]),(_vm.formCopy.text !== _vm.form.text)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addQuestion}},[_vm._v(\"提交\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.resetSubmit}},[_vm._v(\"重置\")])],1),_vm._l((_vm.answers),function(answer,index){return _c('div',{key:index},[_c('el-form-item',{attrs:{\"label\":\"正确\"}},[_c('el-radio-group',{model:{value:(answer.right),callback:function ($$v) {_vm.$set(answer, \"right\", $$v)},expression:\"answer.right\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',{attrs:{\"label\":'答案' + (index + 1)}},[_c('el-input',{model:{value:(answer.text),callback:function ($$v) {_vm.$set(answer, \"text\", $$v)},expression:\"answer.text\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.removeAnswer(answer)}}},[_vm._v(\"删除项\")]),(_vm.verifyDiff(answer, _vm.answersCopy[index]))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addAnswer(answer, index)}}},[_vm._v(\"确定\")]):_vm._e()],1)],1)})],2),_c('h2',{staticStyle:{\"margin-top\":\"200px\"}},[_vm._v(\" Questions \"),_c('small',[_vm._v(\"( \"+_vm._s(_vm.count)+\" )\")])]),_vm._l((_vm.questions),function(item){return _c('div',{key:item.id},[_c('hr'),_c('div',[_c('p',[_vm._v(_vm._s(item.text))]),_c('el-button',{on:{\"click\":function($event){return _vm.questionAnswers(item.id)}}},[_vm._v(\"答案\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.questionEdit(item)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.questionDelete(item)}}},[_vm._v(\"删除\")])],1)])}),_c('br'),_c('br'),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.count},on:{\"current-change\":_vm.questionList}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>Commit</h1>\r\n    <el-form>\r\n      <!-- <el-form-item label=\"类型\">\r\n        <el-radio-group v-model=\"form.type\">\r\n          <el-radio :label=\"1\">JavaScript</el-radio>\r\n          <el-radio :label=\"2\">Css</el-radio>\r\n          <el-radio :label=\"3\">Html</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"问题\" prop=\"title\">\r\n        <el-input v-model=\"form.text\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"pushAnswer\">添加项</el-button>\r\n        <el-button v-if=\"formCopy.text !== form.text\" type=\"primary\" @click=\"addQuestion\">提交</el-button>\r\n        <el-button type=\"text\" @click=\"resetSubmit\">重置</el-button>\r\n      </el-form-item>\r\n      <div v-for=\"(answer, index) in answers\" :key=\"index\">\r\n        <el-form-item label=\"正确\">\r\n          <el-radio-group v-model=\"answer.right\">\r\n            <el-radio :label=\"true\">是</el-radio>\r\n            <el-radio :label=\"false\">否</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item :label=\"'答案' + (index + 1)\">\r\n          <el-input v-model=\"answer.text\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"danger\" @click=\"removeAnswer(answer)\">删除项</el-button>\r\n          <el-button\r\n            v-if=\"verifyDiff(answer, answersCopy[index])\"\r\n            type=\"primary\"\r\n            @click=\"addAnswer(answer, index)\"\r\n          >确定</el-button>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n    <h2 style=\"margin-top: 200px;\">\r\n      Questions\r\n      <small>( {{ count }} )</small>\r\n    </h2>\r\n    <div v-for=\"item in questions\" :key=\"item.id\">\r\n      <hr />\r\n      <div>\r\n        <p>{{ item.text }}</p>\r\n        <el-button @click=\"questionAnswers(item.id)\">答案</el-button>\r\n        <el-button type=\"text\" @click=\"questionEdit(item)\">编辑</el-button>\r\n        <el-button type=\"text\" @click=\"questionDelete(item)\">删除</el-button>\r\n      </div>\r\n    </div>\r\n    <br />\r\n    <br />\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      @current-change=\"questionList\"\r\n      :total=\"count\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  questionAdd,\r\n  questionAnswersAdd,\r\n  requestCount,\r\n  questionList,\r\n  questionUpdate,\r\n  questionAnswers,\r\n  questionDelete,\r\n  questionAnswersDelete,\r\n  questionAnswersUpdate\r\n} from \"@/services/question\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      formCopy: {\r\n        id: 0,\r\n        type: 1,\r\n        text: \"\"\r\n      },\r\n      form: {\r\n        id: 0,\r\n        type: 1,\r\n        text: \"\"\r\n      },\r\n      questionId: \"\",\r\n      answersCopy: [],\r\n      answers: [],\r\n      count: 0,\r\n      skip: 1,\r\n      limit: 10,\r\n      questions: []\r\n    };\r\n  },\r\n  methods: {\r\n    resetSubmit() {\r\n      this.form = {\r\n        id: 0,\r\n        type: 1,\r\n        text: \"\"\r\n      };\r\n      this.answers = [];\r\n    },\r\n    addQuestion() {\r\n      if (this.form.id) {\r\n        this.questionUpdate();\r\n      } else {\r\n        questionAdd({\r\n          title: this.form.text,\r\n          typeId: this.form.type\r\n        }).then(data => {\r\n          this.formCopy.text = this.form.text;\r\n          this.questionId = data.id;\r\n          this.questionList();\r\n        });\r\n      }\r\n    },\r\n    questionUpdate() {\r\n      questionUpdate({\r\n        objectId: this.form.id,\r\n        title: this.form.text,\r\n        typeId: this.form.type\r\n      }).then();\r\n    },\r\n    questionDelete(item) {\r\n      this.$confirm(\"此操作将永久删除该问题, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          questionDelete({\r\n            objectId: item.id\r\n          }).then(() => {\r\n            this.questionList();\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"删除成功!\"\r\n            });\r\n          });\r\n        })\r\n        .catch();\r\n    },\r\n    pushAnswer() {\r\n      this.answers.push({\r\n        text: \"\",\r\n        right: false\r\n      });\r\n      this.answersCopy.push({\r\n        text: \"\",\r\n        right: false\r\n      });\r\n    },\r\n    removeAnswer(item) {\r\n      this.answers.splice(this.answers.indexOf(item), 1);\r\n      if (item.id) {\r\n        questionAnswersDelete({ objectId: item.id }).then(data => {\r\n        });\r\n      }\r\n    },\r\n    addAnswer(item, index) {\r\n      if (item.id) {\r\n        this.updateAnswer(item, index);\r\n      } else {\r\n        const { text, right } = item;\r\n        questionAnswersAdd({\r\n          text,\r\n          right,\r\n          questionId: this.questionId\r\n        }).then(data => {\r\n          const copy = this.answersCopy[index];\r\n          copy.text = text;\r\n          copy.right = right;\r\n        });\r\n      }\r\n    },\r\n    updateAnswer(item, index) {\r\n      const { text, right, id } = item;\r\n      questionAnswersUpdate({\r\n        text,\r\n        right,\r\n        objectId: id\r\n      }).then(data => {\r\n        const copy = this.answersCopy[index];\r\n        copy.text = text;\r\n        copy.right = right;\r\n      });\r\n    },\r\n    verifyDiff(item, itemCopy) {\r\n      return item.text !== itemCopy.text || item.right !== itemCopy.right;\r\n    },\r\n    questionList(current) {\r\n      if (current) {\r\n        this.skip = current;\r\n      }\r\n      questionList({\r\n        skip: (this.skip - 1) * this.limit\r\n      }).then(data => {\r\n        this.questions = data.map(d => ({\r\n          id: d.id,\r\n          text: d.attributes.title\r\n        }));\r\n      });\r\n    },\r\n    questionAnswers(questionId) {\r\n      questionAnswers({\r\n        questionId\r\n      }).then(data => {\r\n        const text = data.map(d => `<li>[${d.attributes.right ? 'Y' : 'N'}]${d.attributes.text}</li>`).join(\"\");\r\n        this.$alert(`<ul>${text}</ul>`, \"答案\", {\r\n          dangerouslyUseHTMLString: true\r\n        });\r\n      });\r\n    },\r\n    questionEdit(item) {\r\n      this.form = {\r\n        id: item.id,\r\n        text: item.text,\r\n        type: 1\r\n      };\r\n      this.formCopy = JSON.parse(JSON.stringify(this.form));\r\n      this.questionId = item.id;\r\n      questionAnswers({ questionId: item.id }).then(data => {\r\n        this.answers = data.map(d => ({\r\n          id: d.id,\r\n          text: d.attributes.text,\r\n          right: d.attributes.right\r\n        }));\r\n        this.answersCopy = JSON.parse(JSON.stringify(this.answers));\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    requestCount().then(num => {\r\n      this.count = num;\r\n      this.questionList();\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\nhr {\r\n  border: 0px;\r\n  border-top: 1px dashed #ddd;\r\n  margin: 30px 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Commit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Commit.vue?vue&type=template&id=2c8daaa2&scoped=true&\"\nimport script from \"./Commit.vue?vue&type=script&lang=js&\"\nexport * from \"./Commit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Commit.vue?vue&type=style&index=0&id=2c8daaa2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c8daaa2\",\n  null\n  \n)\n\nexport default component.exports","import Index from \"@/pages/Index.vue\"\r\nimport Commit from \"@/pages/Commit.vue\"\r\n\r\nconst routes = [\r\n  { path: \"/\", component: Index },\r\n  { path: \"/commit\", component: Commit }\r\n];\r\n\r\nexport default routes;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4c215f70&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport VueRouter from \"vue-router\";\r\nimport ElementUI from \"element-ui\";\r\n\r\nimport StoreModules from '@/store'\r\nimport Routes from '@/routers'\r\n\r\nimport App from \"@/App.vue\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Vuex);\r\nVue.use(ElementUI);\r\n\r\nconst router = new VueRouter({\r\n  routes: Routes\r\n})\r\n\r\nconst store = new Vuex.Store({\r\n  modules: StoreModules\r\n})\r\n\r\nnew Vue({\r\n  store,\r\n  router,\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","module.exports = Vuex;","module.exports = Vue;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=style&index=0&id=167732f2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=style&index=0&id=167732f2&scoped=true&lang=scss&\"","module.exports = moment;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=50864a59&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&id=50864a59&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Remark.vue?vue&type=style&index=0&id=ac7bebc4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Remark.vue?vue&type=style&index=0&id=ac7bebc4&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2Register.vue?vue&type=style&index=0&id=c77340fc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login2Register.vue?vue&type=style&index=0&id=c77340fc&scoped=true&lang=css&\""],"sourceRoot":""}